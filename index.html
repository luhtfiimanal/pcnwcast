<!DOCTYPE html>
<html>

<head>
    <title>PCNX</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Menambahkan CSS Leaflet -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />

    <!-- Menambahkan JavaScript Leaflet -->
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
    <script type="text/javascript" src="https://unpkg.com/leaflet.vectorgrid@1.2.0"></script>

    <style>
        body {
            margin: 0px !important;
            font-family: courier, serif;
        }

        #mapid {
            height: 100vh;
        }

        .color-legend {
            height: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 2px rgba(0, 0, 0, 0.2);
            margin-bottom: 20px;
            position: relative;
        }

        .color-legend-labels {
            display: flex;
            justify-content: space-between;
            position: absolute;
            width: 100%;
            top: 25px;
        }

        .color-legend-labels span {
            font-size: 0.5rem;
            color: #fff;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.7);
        }

        .color-legend-container {
            position: relative
        }
    </style>
</head>

<body>
    <div id="mapid"></div>

    <div
        style="position:fixed;z-index:1000;color:white;width:300px;left:8px; top:8px;padding:25px;border-radius: 10px;background: rgba(0,0,0,0.7)">
        <div style="padding-left:4px;padding-bottom: 10px;">
            Layer List
        </div>
        <label style="display:flex;cursor: pointer;">
            <div style="margin-right: 8px;">
                <input type="checkbox" :disabled="dpcnw" class="pcnw" onchange="switchLayer(pcnw, 'pcnw')" / />
            </div>
            <div>
                Rainfall Estimation (mm/hour)
            </div>
        </label>
        <div class="color-legend-container" style="margin-top:10px;">
            <div id="pcnx-legend" class="color-legend"></div>
            <div id="pcnx-legend-labels" class="color-legend-labels"></div>
        </div>
        <div id="precipdate"></div>
        <label style="display:flex;cursor: pointer;margin-top: 12px;">
            <div style="margin-right: 8px;">
                <input type="checkbox" :disabled="dhima" class="hima" onchange="switchLayer(hima, 'hima')" />
            </div>
            <div>
                Himawari - 9 (deg C)
            </div>
        </label>
        <div class="color-legend-container" style="margin-top:10px;">
            <div id="hima-legend" class="color-legend"></div>
            <div id="hima-legend-labels" class="color-legend-labels"></div>
        </div>
        <div id="himadate"></div>
        <label style="display:flex;cursor: pointer;margin-top: 12px;"">
                <div style=" margin-right: 8px;">
            <input type="checkbox" :disabled="dradar" class="radar" onchange="switchLayer(radar, 'radar')" />
    </div>
    <div>
        Radar (dBZ)
    </div>
    </label>
    <div class="color-legend-container" style="margin-top:10px;">
        <div id="radar-legend" class="color-legend"></div>
        <div id="radar-legend-labels" class="color-legend-labels"></div>
    </div>
    <div id="radardate"></div>
    </div>
    <script>
        var georadar = { "type": "FeatureCollection", "features": [{ "type": "FeatureCollection", "features": [{ "type": "Feature", "geometry": { "type": "Polygon", "coordinates": [[[106.982686, -5.208301], [106.947956, -4.857138], [106.845101, -4.51947], [106.678074, -4.208274], [106.453293, -3.935508], [106.179396, -3.711655], [105.86691, -3.545317], [105.527842, -3.442887], [105.175224, -3.408301], [104.822605, -3.442887], [104.483538, -3.545317], [104.171051, -3.711655], [103.897155, -3.935508], [103.672373, -4.208274], [103.505346, -4.51947], [103.402491, -4.857138], [103.367761, -5.208301], [103.402491, -5.559463], [103.505346, -5.897131], [103.672373, -6.208327], [103.897155, -6.481093], [104.171051, -6.704946], [104.483538, -6.871284], [104.822605, -6.973714], [105.175224, -7.008301], [105.527842, -6.973714], [105.86691, -6.871284], [106.179396, -6.704946], [106.453293, -6.481093], [106.678074, -6.208327], [106.845101, -5.897131], [106.947956, -5.559463], [106.982686, -5.208301]]] }, "properties": { "name": "Lampung" } }, { "type": "Feature", "geometry": { "type": "Point", "coordinates": [105.175224, -5.208301] }, "properties": { "name": "Lampung Center" } }] }, { "type": "FeatureCollection", "features": [{ "type": "Feature", "geometry": { "type": "Polygon", "coordinates": [[[106.865443, -2.91745], [106.823886, -2.496055], [106.70081, -2.090854], [106.500945, -1.717418], [106.231973, -1.390099], [105.904229, -1.121476], [105.530309, -0.92187], [105.124582, -0.798954], [104.70264, -0.75745], [104.280698, -0.798954], [103.874971, -0.92187], [103.501051, -1.121476], [103.173307, -1.390099], [102.904335, -1.717418], [102.70447, -2.090854], [102.581395, -2.496055], [102.539837, -2.91745], [102.581395, -3.338845], [102.70447, -3.744046], [102.904335, -4.117482], [103.173307, -4.444801], [103.501051, -4.713424], [103.874971, -4.91303], [104.280698, -5.035946], [104.70264, -5.07745], [105.124582, -5.035946], [105.530309, -4.91303], [105.904229, -4.713424], [106.231973, -4.444801], [106.500945, -4.117482], [106.70081, -3.744046], [106.823886, -3.338845], [106.865443, -2.91745]]] }, "properties": { "name": "Palembang" } }, { "type": "Feature", "geometry": { "type": "Point", "coordinates": [104.70264, -2.91745] }, "properties": { "name": "Palembang Center" } }] }, { "type": "FeatureCollection", "features": [{ "type": "Feature", "geometry": { "type": "Polygon", "coordinates": [[[104.335798, -3.858493], [104.297474, -3.470263], [104.183974, -3.096953], [103.99966, -2.752908], [103.751616, -2.45135], [103.449373, -2.203868], [103.104547, -2.019972], [102.730389, -1.90673], [102.341277, -1.868493], [101.952165, -1.90673], [101.578007, -2.019972], [101.23318, -2.203868], [100.930938, -2.45135], [100.682893, -2.752908], [100.49858, -3.096953], [100.38508, -3.470263], [100.346756, -3.858493], [100.38508, -4.246722], [100.49858, -4.620033], [100.682893, -4.964077], [100.930938, -5.265635], [101.23318, -5.513117], [101.578007, -5.697013], [101.952165, -5.810255], [102.341277, -5.848493], [102.730389, -5.810255], [103.104547, -5.697013], [103.449373, -5.513117], [103.751616, -5.265635], [103.99966, -4.964077], [104.183974, -4.620033], [104.297474, -4.246722], [104.335798, -3.858493]]] }, "properties": { "name": "Bengkulu" } }, { "type": "Feature", "geometry": { "type": "Point", "coordinates": [102.341277, -3.858493] }, "properties": { "name": "Bengkulu Center" } }] }, { "type": "FeatureCollection", "features": [{ "type": "Feature", "geometry": { "type": "Polygon", "coordinates": [[[108.408107, -2.16157], [108.364458, -1.718715], [108.23519, -1.292878], [108.02527, -0.900425], [107.742766, -0.556437], [107.398533, -0.274134], [107.0058, -0.064363], [106.579661, 0.064813], [106.13649, 0.10843], [105.69332, 0.064813], [105.26718, -0.064363], [104.874448, -0.274134], [104.530215, -0.556437], [104.24771, -0.900425], [104.03779, -1.292878], [103.908522, -1.718715], [103.864874, -2.16157], [103.908522, -2.604425], [104.03779, -3.030261], [104.24771, -3.422714], [104.530215, -3.766702], [104.874448, -4.049006], [105.26718, -4.258776], [105.69332, -4.387952], [106.13649, -4.43157], [106.579661, -4.387952], [107.0058, -4.258776], [107.398533, -4.049006], [107.742766, -3.766702], [108.02527, -3.422714], [108.23519, -3.030261], [108.364458, -2.604425], [108.408107, -2.16157]]] }, "properties": { "name": "Pangkal Pinang" } }, { "type": "Feature", "geometry": { "type": "Point", "coordinates": [106.13649, -2.16157] }, "properties": { "name": "Pangkal Pinang Center" } }] }, { "type": "FeatureCollection", "features": [{ "type": "Feature", "geometry": { "type": "Polygon", "coordinates": [[[105.823227, -1.630816], [105.781322, -1.205519], [105.657217, -0.796566], [105.455682, -0.419673], [105.184461, -0.089323], [104.853977, 0.181788], [104.476931, 0.383241], [104.067813, 0.507296], [103.642344, 0.549184], [103.216874, 0.507296], [102.807756, 0.383241], [102.43071, 0.181788], [102.100226, -0.089323], [101.829005, -0.419673], [101.62747, -0.796566], [101.503365, -1.205519], [101.46146, -1.630816], [101.503365, -2.056113], [101.62747, -2.465066], [101.829005, -2.841959], [102.100226, -3.172309], [102.43071, -3.44342], [102.807756, -3.644873], [103.216874, -3.768928], [103.642344, -3.810816], [104.067813, -3.768928], [104.476931, -3.644873], [104.853977, -3.44342], [105.184461, -3.172309], [105.455682, -2.841959], [105.657217, -2.465066], [105.781322, -2.056113], [105.823227, -1.630816]]] }, "properties": { "name": "Jambi" } }, { "type": "Feature", "geometry": { "type": "Point", "coordinates": [103.642344, -1.630816] }, "properties": { "name": "Jambi Center" } }] }, { "type": "FeatureCollection", "features": [{ "type": "Feature", "geometry": { "type": "Polygon", "coordinates": [[[103.684086, 0.456474], [103.641428, 0.889574], [103.515093, 1.306031], [103.309936, 1.68984], [103.033842, 2.026251], [102.69742, 2.302336], [102.313599, 2.507486], [101.897129, 2.633817], [101.464015, 2.676474], [101.030901, 2.633817], [100.614431, 2.507486], [100.23061, 2.302336], [99.894188, 2.026251], [99.618094, 1.68984], [99.412937, 1.306031], [99.286603, 0.889574], [99.243945, 0.456474], [99.286603, 0.023373], [99.412937, -0.393084], [99.618094, -0.776892], [99.894188, -1.113303], [100.23061, -1.389389], [100.614431, -1.594539], [101.030901, -1.72087], [101.464015, -1.763526], [101.897129, -1.72087], [102.313599, -1.594539], [102.69742, -1.389389], [103.033842, -1.113303], [103.309936, -0.776892], [103.515093, -0.393084], [103.641428, 0.023373], [103.684086, 0.456474]]] }, "properties": { "name": "Pekanbaru" } }, { "type": "Feature", "geometry": { "type": "Point", "coordinates": [101.464015, 0.456474] }, "properties": { "name": "Pekanbaru Center" } }] }, { "type": "FeatureCollection", "features": [{ "type": "Feature", "geometry": { "type": "Polygon", "coordinates": [[[102.485137, -0.785892], [102.443245, -0.360596], [102.319179, 0.048357], [102.117706, 0.425251], [101.846569, 0.7556], [101.516189, 1.026711], [101.13926, 1.228165], [100.730269, 1.352219], [100.304932, 1.394108], [99.879595, 1.352219], [99.470603, 1.228165], [99.093675, 1.026711], [98.763294, 0.7556], [98.492157, 0.425251], [98.290685, 0.048357], [98.166619, -0.360596], [98.124727, -0.785892], [98.166619, -1.211189], [98.290685, -1.620142], [98.492157, -1.997036], [98.763294, -2.327385], [99.093675, -2.598496], [99.470603, -2.79995], [99.879595, -2.924004], [100.304932, -2.965892], [100.730269, -2.924004], [101.13926, -2.79995], [101.516189, -2.598496], [101.846569, -2.327385], [102.117706, -1.997036], [102.319179, -1.620142], [102.443245, -1.211189], [102.485137, -0.785892]]] }, "properties": { "name": "Padang" } }, { "type": "Feature", "geometry": { "type": "Point", "coordinates": [100.304932, -0.785892] }, "properties": { "name": "Padang Center" } }] }, { "type": "FeatureCollection", "features": [{ "type": "Feature", "geometry": { "type": "Polygon", "coordinates": [[[99.503906, 1.164485], [99.469312, 1.515648], [99.366861, 1.853315], [99.200489, 2.164511], [98.976589, 2.437277], [98.703767, 2.66113], [98.392507, 2.827468], [98.054769, 2.929898], [97.703534, 2.964485], [97.352299, 2.929898], [97.014562, 2.827468], [96.703301, 2.66113], [96.430479, 2.437277], [96.20658, 2.164511], [96.040207, 1.853315], [95.937756, 1.515648], [95.903162, 1.164485], [95.937756, 0.813322], [96.040207, 0.475655], [96.20658, 0.164459], [96.430479, -0.108307], [96.703301, -0.33216], [97.014562, -0.498498], [97.352299, -0.600929], [97.703534, -0.635515], [98.054769, -0.600929], [98.392507, -0.498498], [98.703767, -0.33216], [98.976589, -0.108307], [99.200489, 0.164459], [99.366861, 0.475655], [99.469312, 0.813322], [99.503906, 1.164485]]] }, "properties": { "name": "Nias" } }, { "type": "Feature", "geometry": { "type": "Point", "coordinates": [97.703534, 1.164485] }, "properties": { "name": "Nias Center" } }] }, { "type": "FeatureCollection", "features": [{ "type": "Feature", "geometry": { "type": "Polygon", "coordinates": [[[100.440538, 3.539769], [100.405886, 3.890932], [100.30326, 4.228599], [100.136604, 4.539796], [99.912323, 4.812562], [99.639036, 5.036415], [99.327244, 5.202752], [98.988931, 5.305183], [98.637098, 5.339769], [98.285264, 5.305183], [97.946951, 5.202752], [97.63516, 5.036415], [97.361873, 4.812562], [97.137592, 4.539796], [96.970936, 4.228599], [96.86831, 3.890932], [96.833657, 3.539769], [96.86831, 3.188607], [96.970936, 2.850939], [97.137592, 2.539743], [97.361873, 2.266977], [97.63516, 2.043124], [97.946951, 1.876786], [98.285264, 1.774356], [98.637098, 1.739769], [98.988931, 1.774356], [99.327244, 1.876786], [99.639036, 2.043124], [99.912323, 2.266977], [100.136604, 2.539743], [100.30326, 2.850939], [100.405886, 3.188607], [100.440538, 3.539769]]] }, "properties": { "name": "Medan" } }, { "type": "Feature", "geometry": { "type": "Point", "coordinates": [98.637098, 3.539769] }, "properties": { "name": "Medan Center" } }] }, { "type": "FeatureCollection", "features": [{ "type": "Feature", "geometry": { "type": "Polygon", "coordinates": [[[97.318629, 5.541234], [97.283687, 5.894347], [97.180204, 6.233891], [97.012156, 6.546816], [96.786003, 6.821097], [96.510434, 7.046194], [96.19604, 7.213456], [95.854902, 7.316455], [95.500131, 7.351234], [95.145359, 7.316455], [94.804222, 7.213456], [94.489827, 7.046194], [94.214259, 6.821097], [93.988105, 6.546816], [93.820058, 6.233891], [93.716575, 5.894347], [93.681633, 5.541234], [93.716575, 5.18812], [93.820058, 4.848577], [93.988105, 4.535652], [94.214259, 4.261371], [94.489827, 4.036274], [94.804222, 3.869012], [95.145359, 3.766012], [95.500131, 3.731234], [95.854902, 3.766012], [96.19604, 3.869012], [96.510434, 4.036274], [96.786003, 4.261371], [97.012156, 4.535652], [97.180204, 4.848577], [97.283687, 5.18812], [97.318629, 5.541234]]] }, "properties": { "name": "Aceh" } }, { "type": "Feature", "geometry": { "type": "Point", "coordinates": [95.500131, 5.541234] }, "properties": { "name": "Aceh Center" } }] }, { "type": "FeatureCollection", "features": [{ "type": "Feature", "geometry": { "type": "Polygon", "coordinates": [[[111.203244, -0.089755], [111.168465, 0.263359], [111.065466, 0.602902], [110.898204, 0.915827], [110.673107, 1.190109], [110.398825, 1.415205], [110.0859, 1.582467], [109.746356, 1.685467], [109.393242, 1.720245], [109.040128, 1.685467], [108.700584, 1.582467], [108.387659, 1.415205], [108.113377, 1.190109], [107.88828, 0.915827], [107.721018, 0.602902], [107.618018, 0.263359], [107.58324, -0.089755], [107.618018, -0.442868], [107.721018, -0.782412], [107.88828, -1.095337], [108.113377, -1.369618], [108.387659, -1.594715], [108.700584, -1.761977], [109.040128, -1.864976], [109.393242, -1.899755], [109.746356, -1.864976], [110.0859, -1.761977], [110.398825, -1.594715], [110.673107, -1.369618], [110.898204, -1.095337], [111.065466, -0.782412], [111.168465, -0.442868], [111.203244, -0.089755]]] }, "properties": { "name": "Pontianak" } }, { "type": "Feature", "geometry": { "type": "Point", "coordinates": [109.393242, -0.089755] }, "properties": { "name": "Pontianak Center" } }] }, { "type": "FeatureCollection", "features": [{ "type": "Feature", "geometry": { "type": "Polygon", "coordinates": [[[113.709771, -0.042611], [113.666537, 0.396342], [113.538499, 0.818426], [113.330577, 1.207422], [113.050761, 1.548379], [112.709803, 1.828195], [112.320808, 2.036118], [111.898723, 2.164155], [111.45977, 2.207389], [111.020817, 2.164155], [110.598732, 2.036118], [110.209737, 1.828195], [109.868779, 1.548379], [109.588963, 1.207422], [109.38104, 0.818426], [109.253002, 0.396342], [109.209769, -0.042611], [109.253002, -0.481565], [109.38104, -0.903649], [109.588963, -1.292644], [109.868779, -1.633602], [110.209737, -1.913418], [110.598732, -2.12134], [111.020817, -2.249378], [111.45977, -2.292611], [111.898723, -2.249378], [112.320808, -2.12134], [112.709803, -1.913418], [113.050761, -1.633602], [113.330577, -1.292644], [113.538499, -0.903649], [113.666537, -0.481565], [113.709771, -0.042611]]] }, "properties": { "name": "Sintang" } }, { "type": "Feature", "geometry": { "type": "Point", "coordinates": [111.45977, -0.042611] }, "properties": { "name": "Sintang Center" } }] }, { "type": "FeatureCollection", "features": [{ "type": "Feature", "geometry": { "type": "Polygon", "coordinates": [[[113.45245, -2.736487], [113.417632, -2.383374], [113.314515, -2.04383], [113.147062, -1.730905], [112.921708, -1.456624], [112.647114, -1.231527], [112.333832, -1.064265], [111.9939, -0.961266], [111.640384, -0.926487], [111.286867, -0.961266], [110.946936, -1.064265], [110.633654, -1.231527], [110.359059, -1.456624], [110.133706, -1.730905], [109.966253, -2.04383], [109.863136, -2.383374], [109.828317, -2.736487], [109.863136, -3.0896], [109.966253, -3.429144], [110.133706, -3.742069], [110.359059, -4.01635], [110.633654, -4.241447], [110.946936, -4.408709], [111.286867, -4.511708], [111.640384, -4.546487], [111.9939, -4.511708], [112.333832, -4.408709], [112.647114, -4.241447], [112.921708, -4.01635], [113.147062, -3.742069], [113.314515, -3.429144], [113.417632, -3.0896], [113.45245, -2.736487]]] }, "properties": { "name": "Pangkalanbun" } }, { "type": "Feature", "geometry": { "type": "Point", "coordinates": [111.640384, -2.736487] }, "properties": { "name": "Pangkalanbun Center" } }] }, { "type": "FeatureCollection", "features": [{ "type": "Feature", "geometry": { "type": "Polygon", "coordinates": [[[116.196447, -2.25158], [116.15318, -1.812627], [116.025044, -1.390542], [115.816961, -1.001547], [115.536928, -0.66059], [115.195707, -0.380773], [114.806412, -0.172851], [114.384001, -0.044813], [113.944709, -0.00158], [113.505416, -0.044813], [113.083006, -0.172851], [112.69371, -0.380773], [112.352489, -0.66059], [112.072456, -1.001547], [111.864373, -1.390542], [111.736237, -1.812627], [111.69297, -2.25158], [111.736237, -2.690533], [111.864373, -3.112618], [112.072456, -3.501613], [112.352489, -3.84257], [112.69371, -4.122387], [113.083006, -4.330309], [113.505416, -4.458347], [113.944709, -4.50158], [114.384001, -4.458347], [114.806412, -4.330309], [115.195707, -4.122387], [115.536928, -3.84257], [115.816961, -3.501613], [116.025044, -3.112618], [116.15318, -2.690533], [116.196447, -2.25158]]] }, "properties": { "name": "Palangkaraya" } }, { "type": "Feature", "geometry": { "type": "Point", "coordinates": [113.944709, -2.25158] }, "properties": { "name": "Palangkaraya Center" } }] }, { "type": "FeatureCollection", "features": [{ "type": "Feature", "geometry": { "type": "Polygon", "coordinates": [[[117.09524, -3.461501], [117.051928, -3.022548], [116.923656, -2.600464], [116.715353, -2.211468], [116.435025, -1.870511], [116.093445, -1.590695], [115.703739, -1.382773], [115.280883, -1.254735], [114.841127, -1.211501], [114.401372, -1.254735], [113.978516, -1.382773], [113.588809, -1.590695], [113.247229, -1.870511], [112.966901, -2.211468], [112.758599, -2.600464], [112.630327, -3.022548], [112.587015, -3.461501], [112.630327, -3.900455], [112.758599, -4.322539], [112.966901, -4.711534], [113.247229, -5.052492], [113.588809, -5.332308], [113.978516, -5.54023], [114.401372, -5.668268], [114.841127, -5.711501], [115.280883, -5.668268], [115.703739, -5.54023], [116.093445, -5.332308], [116.435025, -5.052492], [116.715353, -4.711534], [116.923656, -4.322539], [117.051928, -3.900455], [117.09524, -3.461501]]] }, "properties": { "name": "Banjarmmasin" } }, { "type": "Feature", "geometry": { "type": "Point", "coordinates": [114.841127, -3.461501] }, "properties": { "name": "Banjarmmasin Center" } }] }, { "type": "FeatureCollection", "features": [{ "type": "Feature", "geometry": { "type": "Polygon", "coordinates": [[[118.697451, -1.25989], [118.662856, -0.908727], [118.560401, -0.571059], [118.394023, -0.259863], [118.170116, 0.012903], [117.897284, 0.236756], [117.586012, 0.403094], [117.248263, 0.505524], [116.897016, 0.54011], [116.545768, 0.505524], [116.208019, 0.403094], [115.896747, 0.236756], [115.623916, 0.012903], [115.400008, -0.259863], [115.23363, -0.571059], [115.131175, -0.908727], [115.09658, -1.25989], [115.131175, -1.611052], [115.23363, -1.94872], [115.400008, -2.259916], [115.623916, -2.532682], [115.896747, -2.756535], [116.208019, -2.922873], [116.545768, -3.025303], [116.897016, -3.05989], [117.248263, -3.025303], [117.586012, -2.922873], [117.897284, -2.756535], [118.170116, -2.532682], [118.394023, -2.259916], [118.560401, -1.94872], [118.662856, -1.611052], [118.697451, -1.25989]]] }, "properties": { "name": "Balikpapan" } }, { "type": "Feature", "geometry": { "type": "Point", "coordinates": [116.897016, -1.25989] }, "properties": { "name": "Balikpapan Center" } }] }, { "type": "FeatureCollection", "features": [{ "type": "Feature", "geometry": { "type": "Polygon", "coordinates": [[[119.765068, 3.313318], [119.723109, 3.738615], [119.598847, 4.147568], [119.397056, 4.524461], [119.125491, 4.854811], [118.794588, 5.125922], [118.417064, 5.327376], [118.007426, 5.45143], [117.581417, 5.493318], [117.155408, 5.45143], [116.745771, 5.327376], [116.368246, 5.125922], [116.037344, 4.854811], [115.765779, 4.524461], [115.563988, 4.147568], [115.439725, 3.738615], [115.397767, 3.313318], [115.439725, 2.888021], [115.563988, 2.479068], [115.765779, 2.102175], [116.037344, 1.771826], [116.368246, 1.500715], [116.745771, 1.299261], [117.155408, 1.175206], [117.581417, 1.133318], [118.007426, 1.175206], [118.417064, 1.299261], [118.794588, 1.500715], [119.125491, 1.771826], [119.397056, 2.102175], [119.598847, 2.479068], [119.723109, 2.888021], [119.765068, 3.313318]]] }, "properties": { "name": "Tarakan" } }, { "type": "Feature", "geometry": { "type": "Point", "coordinates": [117.581417, 3.313318] }, "properties": { "name": "Tarakan Center" } }] }, { "type": "FeatureCollection", "features": [{ "type": "Feature", "geometry": { "type": "Polygon", "coordinates": [[[108.467207, -6.171459], [108.432226, -5.818346], [108.328626, -5.478802], [108.160389, -5.165877], [107.93398, -4.891596], [107.6581, -4.666499], [107.343351, -4.499237], [107.001828, -4.396238], [106.646657, -4.361459], [106.291485, -4.396238], [105.949962, -4.499237], [105.635213, -4.666499], [105.359333, -4.891596], [105.132924, -5.165877], [104.964687, -5.478802], [104.861087, -5.818346], [104.826106, -6.171459], [104.861087, -6.524573], [104.964687, -6.864116], [105.132924, -7.177041], [105.359333, -7.451322], [105.635213, -7.676419], [105.949962, -7.843681], [106.291485, -7.946681], [106.646657, -7.981459], [107.001828, -7.946681], [107.343351, -7.843681], [107.6581, -7.676419], [107.93398, -7.451322], [108.160389, -7.177041], [108.328626, -6.864116], [108.432226, -6.524573], [108.467207, -6.171459]]] }, "properties": { "name": "Jakarta" } }, { "type": "Feature", "geometry": { "type": "Point", "coordinates": [106.646657, -6.171459] }, "properties": { "name": "Jakarta Center" } }] }, { "type": "FeatureCollection", "features": [{ "type": "Feature", "geometry": { "type": "Polygon", "coordinates": [[[112.180924, -7.731676], [112.145826, -7.378562], [112.041882, -7.039019], [111.873086, -6.726094], [111.645924, -6.451813], [111.369126, -6.226716], [111.05333, -6.059454], [110.710671, -5.956455], [110.354318, -5.921676], [109.997965, -5.956455], [109.655307, -6.059454], [109.339511, -6.226716], [109.062713, -6.451813], [108.835551, -6.726094], [108.666755, -7.039019], [108.56281, -7.378562], [108.527713, -7.731676], [108.56281, -8.084789], [108.666755, -8.424333], [108.835551, -8.737258], [109.062713, -9.011539], [109.339511, -9.236636], [109.655307, -9.403898], [109.997965, -9.506897], [110.354318, -9.541676], [110.710671, -9.506897], [111.05333, -9.403898], [111.369126, -9.236636], [111.645924, -9.011539], [111.873086, -8.737258], [112.041882, -8.424333], [112.145826, -8.084789], [112.180924, -7.731676]]] }, "properties": { "name": "Yogyakarta" } }, { "type": "Feature", "geometry": { "type": "Point", "coordinates": [110.354318, -7.731676] }, "properties": { "name": "Yogyakarta Center" } }] }, { "type": "FeatureCollection", "features": [{ "type": "Feature", "geometry": { "type": "Polygon", "coordinates": [[[114.585772, -7.41027], [114.5507, -7.057157], [114.446833, -6.717613], [114.278163, -6.404688], [114.05117, -6.130407], [113.774579, -5.90531], [113.459018, -5.738048], [113.116615, -5.635049], [112.760527, -5.60027], [112.40444, -5.635049], [112.062037, -5.738048], [111.746476, -5.90531], [111.469885, -6.130407], [111.242892, -6.404688], [111.074221, -6.717613], [110.970355, -7.057157], [110.935283, -7.41027], [110.970355, -7.763384], [111.074221, -8.102927], [111.242892, -8.415852], [111.469885, -8.690133], [111.746476, -8.91523], [112.062037, -9.082492], [112.40444, -9.185491], [112.760527, -9.22027], [113.116615, -9.185491], [113.459018, -9.082492], [113.774579, -8.91523], [114.05117, -8.690133], [114.278163, -8.415852], [114.446833, -8.102927], [114.5507, -7.763384], [114.585772, -7.41027]]] }, "properties": { "name": "Surabaya" } }, { "type": "Feature", "geometry": { "type": "Point", "coordinates": [112.760527, -7.41027] }, "properties": { "name": "Surabaya Center" } }] }, { "type": "FeatureCollection", "features": [{ "type": "Feature", "geometry": { "type": "Polygon", "coordinates": [[[116.999881, -8.739039], [116.964888, -8.387876], [116.861255, -8.050209], [116.692963, -7.739013], [116.466481, -7.466247], [116.190511, -7.242394], [115.87566, -7.076056], [115.534026, -6.973626], [115.178739, -6.939039], [114.823451, -6.973626], [114.481818, -7.076056], [114.166966, -7.242394], [113.890997, -7.466247], [113.664514, -7.739013], [113.496222, -8.050209], [113.392589, -8.387876], [113.357596, -8.739039], [113.392589, -9.090202], [113.496222, -9.427869], [113.664514, -9.739065], [113.890997, -10.011831], [114.166966, -10.235684], [114.481818, -10.402022], [114.823451, -10.504453], [115.178739, -10.539039], [115.534026, -10.504453], [115.87566, -10.402022], [116.190511, -10.235684], [116.466481, -10.011831], [116.692963, -9.739065], [116.861255, -9.427869], [116.964888, -9.090202], [116.999881, -8.739039]]] }, "properties": { "name": "Denpasar" } }, { "type": "Feature", "geometry": { "type": "Point", "coordinates": [115.178739, -8.739039] }, "properties": { "name": "Denpasar Center" } }] }, { "type": "FeatureCollection", "features": [{ "type": "Feature", "geometry": { "type": "Polygon", "coordinates": [[[118.08078, -8.752972], [118.045592, -8.399858], [117.941379, -8.060315], [117.772146, -7.74739], [117.544396, -7.473109], [117.266883, -7.248012], [116.950271, -7.08075], [116.606726, -6.97775], [116.249452, -6.942972], [115.892177, -6.97775], [115.548633, -7.08075], [115.23202, -7.248012], [114.954507, -7.473109], [114.726758, -7.74739], [114.557525, -8.060315], [114.453312, -8.399858], [114.418123, -8.752972], [114.453312, -9.106085], [114.557525, -9.445629], [114.726758, -9.758554], [114.954507, -10.032835], [115.23202, -10.257932], [115.548633, -10.425194], [115.892177, -10.528193], [116.249452, -10.562972], [116.606726, -10.528193], [116.950271, -10.425194], [117.266883, -10.257932], [117.544396, -10.032835], [117.772146, -9.758554], [117.941379, -9.445629], [118.045592, -9.106085], [118.08078, -8.752972]]] }, "properties": { "name": "Lombok" } }, { "type": "Feature", "geometry": { "type": "Point", "coordinates": [116.249452, -8.752972] }, "properties": { "name": "Lombok Center" } }] }, { "type": "FeatureCollection", "features": [{ "type": "Feature", "geometry": { "type": "Polygon", "coordinates": [[[120.893749, -8.531729], [120.851586, -8.108383], [120.726719, -7.701306], [120.523946, -7.326142], [120.251059, -6.997307], [119.918545, -6.72744], [119.539182, -6.52691], [119.12755, -6.403425], [118.699467, -6.361729], [118.271384, -6.403425], [117.859751, -6.52691], [117.480389, -6.72744], [117.147875, -6.997307], [116.874988, -7.326142], [116.672214, -7.701306], [116.547347, -8.108383], [116.505185, -8.531729], [116.547347, -8.955075], [116.672214, -9.362152], [116.874988, -9.737316], [117.147875, -10.066151], [117.480389, -10.336018], [117.859751, -10.536548], [118.271384, -10.660033], [118.699467, -10.701729], [119.12755, -10.660033], [119.539182, -10.536548], [119.918545, -10.336018], [120.251059, -10.066151], [120.523946, -9.737316], [120.726719, -9.362152], [120.851586, -8.955075], [120.893749, -8.531729]]] }, "properties": { "name": "Bima" } }, { "type": "Feature", "geometry": { "type": "Point", "coordinates": [118.699467, -8.531729] }, "properties": { "name": "Bima Center" } }] }, { "type": "FeatureCollection", "features": [{ "type": "Feature", "geometry": { "type": "Polygon", "coordinates": [[[123.576903, -8.612023], [123.550473, -8.3467], [123.472198, -8.091573], [123.345087, -7.856447], [123.174025, -7.650357], [122.965585, -7.481224], [122.727778, -7.355546], [122.469742, -7.278155], [122.201394, -7.252023], [121.933045, -7.278155], [121.675009, -7.355546], [121.437202, -7.481224], [121.228762, -7.650357], [121.0577, -7.856447], [120.930589, -8.091573], [120.852315, -8.3467], [120.825885, -8.612023], [120.852315, -8.877345], [120.930589, -9.132472], [121.0577, -9.367598], [121.228762, -9.573688], [121.437202, -9.742821], [121.675009, -9.868499], [121.933045, -9.945891], [122.201394, -9.972023], [122.469742, -9.945891], [122.727778, -9.868499], [122.965585, -9.742821], [123.174025, -9.573688], [123.345087, -9.367598], [123.472198, -9.132472], [123.550473, -8.877345], [123.576903, -8.612023]]] }, "properties": { "name": "Maumere" } }, { "type": "Feature", "geometry": { "type": "Point", "coordinates": [122.201394, -8.612023] }, "properties": { "name": "Maumere Center" } }] }, { "type": "FeatureCollection", "features": [{ "type": "Feature", "geometry": { "type": "Polygon", "coordinates": [[[125.920782, -10.218006], [125.876656, -9.777102], [125.745977, -9.353141], [125.533765, -8.962417], [125.248175, -8.619945], [124.900184, -8.338885], [124.503163, -8.130038], [124.07237, -8.001431], [123.62436, -7.958006], [123.176351, -8.001431], [122.745558, -8.130038], [122.348537, -8.338885], [122.000545, -8.619945], [121.714955, -8.962417], [121.502743, -9.353141], [121.372064, -9.777102], [121.327939, -10.218006], [121.372064, -10.65891], [121.502743, -11.082871], [121.714955, -11.473595], [122.000545, -11.816067], [122.348537, -12.097127], [122.745558, -12.305974], [123.176351, -12.434581], [123.62436, -12.478006], [124.07237, -12.434581], [124.503163, -12.305974], [124.900184, -12.097127], [125.248175, -11.816067], [125.533765, -11.473595], [125.745977, -11.082871], [125.876656, -10.65891], [125.920782, -10.218006]]] }, "properties": { "name": "Kupang" } }, { "type": "Feature", "geometry": { "type": "Point", "coordinates": [123.62436, -10.218006] }, "properties": { "name": "Kupang Center" } }] }, { "type": "FeatureCollection", "features": [{ "type": "Feature", "geometry": { "type": "Polygon", "coordinates": [[[121.38913, -4.99722], [121.354219, -4.644106], [121.250826, -4.304563], [121.082926, -3.991638], [120.85697, -3.717357], [120.581643, -3.49226], [120.267524, -3.324998], [119.926684, -3.221999], [119.572224, -3.18722], [119.217763, -3.221999], [118.876924, -3.324998], [118.562805, -3.49226], [118.287477, -3.717357], [118.061521, -3.991638], [117.893621, -4.304563], [117.790229, -4.644106], [117.755317, -4.99722], [117.790229, -5.350333], [117.893621, -5.689877], [118.061521, -6.002802], [118.287477, -6.277083], [118.562805, -6.50218], [118.876924, -6.669442], [119.217763, -6.772441], [119.572224, -6.80722], [119.926684, -6.772441], [120.267524, -6.669442], [120.581643, -6.50218], [120.85697, -6.277083], [121.082926, -6.002802], [121.250826, -5.689877], [121.354219, -5.350333], [121.38913, -4.99722]]] }, "properties": { "name": "Makasar" } }, { "type": "Feature", "geometry": { "type": "Point", "coordinates": [119.572224, -4.99722] }, "properties": { "name": "Makasar Center" } }] }, { "type": "FeatureCollection", "features": [{ "type": "Feature", "geometry": { "type": "Polygon", "coordinates": [[[119.792156, -3.55074], [119.776562, -3.392716], [119.73038, -3.240766], [119.655384, -3.100728], [119.554456, -2.977983], [119.431476, -2.877249], [119.291168, -2.802397], [119.138925, -2.756304], [118.980598, -2.74074], [118.822271, -2.756304], [118.670029, -2.802397], [118.529721, -2.877249], [118.40674, -2.977983], [118.305813, -3.100728], [118.230817, -3.240766], [118.184634, -3.392716], [118.16904, -3.55074], [118.184634, -3.708763], [118.230817, -3.860713], [118.305813, -4.000752], [118.40674, -4.123496], [118.529721, -4.22423], [118.670029, -4.299082], [118.822271, -4.345176], [118.980598, -4.36074], [119.138925, -4.345176], [119.291168, -4.299082], [119.431476, -4.22423], [119.554456, -4.123496], [119.655384, -4.000752], [119.73038, -3.860713], [119.776562, -3.708763], [119.792156, -3.55074]]] }, "properties": { "name": "Majene" } }, { "type": "Feature", "geometry": { "type": "Point", "coordinates": [118.980598, -3.55074] }, "properties": { "name": "Majene Center" } }] }, { "type": "FeatureCollection", "features": [{ "type": "Feature", "geometry": { "type": "Polygon", "coordinates": [[[120.954589, -2.554542], [120.942471, -2.431635], [120.906585, -2.313452], [120.848309, -2.204533], [120.769882, -2.109065], [120.674319, -2.030716], [120.565292, -1.972498], [120.446991, -1.936647], [120.323962, -1.924542], [120.200933, -1.936647], [120.082632, -1.972498], [119.973605, -2.030716], [119.878042, -2.109065], [119.799615, -2.204533], [119.741339, -2.313452], [119.705453, -2.431635], [119.693335, -2.554542], [119.705453, -2.677449], [119.741339, -2.795633], [119.799615, -2.904551], [119.878042, -3.000019], [119.973605, -3.078368], [120.082632, -3.136586], [120.200933, -3.172437], [120.323962, -3.184542], [120.446991, -3.172437], [120.565292, -3.136586], [120.674319, -3.078368], [120.769882, -3.000019], [120.848309, -2.904551], [120.906585, -2.795633], [120.942471, -2.677449], [120.954589, -2.554542]]] }, "properties": { "name": "Masamba" } }, { "type": "Feature", "geometry": { "type": "Point", "coordinates": [120.323962, -2.554542] }, "properties": { "name": "Masamba Center" } }] }, { "type": "FeatureCollection", "features": [{ "type": "Feature", "geometry": { "type": "Polygon", "coordinates": [[[124.263829, -4.05577], [124.228963, -3.702657], [124.125705, -3.363113], [123.958023, -3.050188], [123.732361, -2.775907], [123.457391, -2.55081], [123.14368, -2.383549], [122.803284, -2.280549], [122.449284, -2.24577], [122.095284, -2.280549], [121.754888, -2.383549], [121.441178, -2.55081], [121.166208, -2.775907], [120.940546, -3.050188], [120.772864, -3.363113], [120.669606, -3.702657], [120.63474, -4.05577], [120.669606, -4.408884], [120.772864, -4.748428], [120.940546, -5.061353], [121.166208, -5.335634], [121.441178, -5.56073], [121.754888, -5.727992], [122.095284, -5.830992], [122.449284, -5.86577], [122.803284, -5.830992], [123.14368, -5.727992], [123.457391, -5.56073], [123.732361, -5.335634], [123.958023, -5.061353], [124.125705, -4.748428], [124.228963, -4.408884], [124.263829, -4.05577]]] }, "properties": { "name": "Kendari" } }, { "type": "Feature", "geometry": { "type": "Point", "coordinates": [122.449284, -4.05577] }, "properties": { "name": "Kendari Center" } }] }, { "type": "FeatureCollection", "features": [{ "type": "Feature", "geometry": { "type": "Polygon", "coordinates": [[[121.628924, -0.668519], [121.594143, -0.315406], [121.491136, 0.024138], [121.323863, 0.337063], [121.098751, 0.611344], [120.824451, 0.836441], [120.511505, 1.003703], [120.171938, 1.106702], [119.818801, 1.141481], [119.465663, 1.106702], [119.126097, 1.003703], [118.81315, 0.836441], [118.53885, 0.611344], [118.313738, 0.337063], [118.146465, 0.024138], [118.043458, -0.315406], [118.008677, -0.668519], [118.043458, -1.021632], [118.146465, -1.361176], [118.313738, -1.674101], [118.53885, -1.948382], [118.81315, -2.173479], [119.126097, -2.340741], [119.465663, -2.44374], [119.818801, -2.478519], [120.171938, -2.44374], [120.511505, -2.340741], [120.824451, -2.173479], [121.098751, -1.948382], [121.323863, -1.674101], [121.491136, -1.361176], [121.594143, -1.021632], [121.628924, -0.668519]]] }, "properties": { "name": "Palu" } }, { "type": "Feature", "geometry": { "type": "Point", "coordinates": [119.818801, -0.668519] }, "properties": { "name": "Palu Center" } }] }, { "type": "FeatureCollection", "features": [{ "type": "Feature", "geometry": { "type": "Polygon", "coordinates": [[[124.82072, 0.635979], [124.78594, 0.989093], [124.682934, 1.328636], [124.515661, 1.641561], [124.290551, 1.915842], [124.016253, 2.140939], [123.703308, 2.308201], [123.363744, 2.411201], [123.010609, 2.445979], [122.657474, 2.411201], [122.317909, 2.308201], [122.004965, 2.140939], [121.730667, 1.915842], [121.505556, 1.641561], [121.338284, 1.328636], [121.235278, 0.989093], [121.200497, 0.635979], [121.235278, 0.282866], [121.338284, -0.056678], [121.505556, -0.369603], [121.730667, -0.643884], [122.004965, -0.868981], [122.317909, -1.036243], [122.657474, -1.139242], [123.010609, -1.174021], [123.363744, -1.139242], [123.703308, -1.036243], [124.016253, -0.868981], [124.290551, -0.643884], [124.515661, -0.369603], [124.682934, -0.056678], [124.78594, 0.282866], [124.82072, 0.635979]]] }, "properties": { "name": "Gorontalo" } }, { "type": "Feature", "geometry": { "type": "Point", "coordinates": [123.010609, 0.635979] }, "properties": { "name": "Gorontalo Center" } }] }, { "type": "FeatureCollection", "features": [{ "type": "Feature", "geometry": { "type": "Polygon", "coordinates": [[[126.729091, 1.500829], [126.694301, 1.853942], [126.591266, 2.193486], [126.423947, 2.506411], [126.198773, 2.780692], [125.924397, 3.005789], [125.611365, 3.173051], [125.271705, 3.27605], [124.91847, 3.310829], [124.565236, 3.27605], [124.225575, 3.173051], [123.912543, 3.005789], [123.638168, 2.780692], [123.412994, 2.506411], [123.245674, 2.193486], [123.14264, 1.853942], [123.107849, 1.500829], [123.14264, 1.147715], [123.245674, 0.808172], [123.412994, 0.495247], [123.638168, 0.220965], [123.912543, -0.004131], [124.225575, -0.171393], [124.565236, -0.274393], [124.91847, -0.309171], [125.271705, -0.274393], [125.611365, -0.171393], [125.924397, -0.004131], [126.198773, 0.220965], [126.423947, 0.495247], [126.591266, 0.808172], [126.694301, 1.147715], [126.729091, 1.500829]]] }, "properties": { "name": "Manado" } }, { "type": "Feature", "geometry": { "type": "Point", "coordinates": [124.91847, 1.500829] }, "properties": { "name": "Manado Center" } }] }, { "type": "FeatureCollection", "features": [{ "type": "Feature", "geometry": { "type": "Polygon", "coordinates": [[[130.320298, -3.711835], [130.277552, -3.278735], [130.150955, -2.862278], [129.945374, -2.478469], [129.668708, -2.142058], [129.33159, -1.865973], [128.946974, -1.660822], [128.529642, -1.534492], [128.095631, -1.491835], [127.66162, -1.534492], [127.244288, -1.660822], [126.859673, -1.865973], [126.522554, -2.142058], [126.245889, -2.478469], [126.040307, -2.862278], [125.913711, -3.278735], [125.870965, -3.711835], [125.913711, -4.144936], [126.040307, -4.561392], [126.245889, -4.945201], [126.522554, -5.281612], [126.859673, -5.557698], [127.244288, -5.762848], [127.66162, -5.889178], [128.095631, -5.931835], [128.529642, -5.889178], [128.946974, -5.762848], [129.33159, -5.557698], [129.668708, -5.281612], [129.945374, -4.945201], [130.150955, -4.561392], [130.277552, -4.144936], [130.320298, -3.711835]]] }, "properties": { "name": "Ambon" } }, { "type": "Feature", "geometry": { "type": "Point", "coordinates": [128.095631, -3.711835] }, "properties": { "name": "Ambon Center" } }] }, { "type": "FeatureCollection", "features": [{ "type": "Feature", "geometry": { "type": "Polygon", "coordinates": [[[129.14744, 0.855713], [129.112849, 1.206875], [129.010407, 1.544543], [128.844051, 1.855739], [128.620173, 2.128505], [128.347377, 2.352358], [128.036146, 2.518696], [127.69844, 2.621126], [127.347239, 2.655713], [126.996037, 2.621126], [126.658332, 2.518696], [126.347101, 2.352358], [126.074305, 2.128505], [125.850426, 1.855739], [125.68407, 1.544543], [125.581628, 1.206875], [125.547038, 0.855713], [125.581628, 0.50455], [125.68407, 0.166883], [125.850426, -0.144314], [126.074305, -0.417079], [126.347101, -0.640932], [126.658332, -0.80727], [126.996037, -0.909701], [127.347239, -0.944287], [127.69844, -0.909701], [128.036146, -0.80727], [128.347377, -0.640932], [128.620173, -0.417079], [128.844051, -0.144314], [129.010407, 0.166883], [129.112849, 0.50455], [129.14744, 0.855713]]] }, "properties": { "name": "Ternate" } }, { "type": "Feature", "geometry": { "type": "Point", "coordinates": [127.347239, 0.855713] }, "properties": { "name": "Ternate Center" } }] }, { "type": "FeatureCollection", "features": [{ "type": "Feature", "geometry": { "type": "Polygon", "coordinates": [[[133.086232, -0.890196], [133.051641, -0.539034], [132.949199, -0.201366], [132.782841, 0.10983], [132.558961, 0.382596], [132.286162, 0.606449], [131.974928, 0.772787], [131.63722, 0.875217], [131.286015, 0.909804], [130.93481, 0.875217], [130.597101, 0.772787], [130.285868, 0.606449], [130.013069, 0.382596], [129.789189, 0.10983], [129.622831, -0.201366], [129.520388, -0.539034], [129.485797, -0.890196], [129.520388, -1.241359], [129.622831, -1.579027], [129.789189, -1.890223], [130.013069, -2.162989], [130.285868, -2.386842], [130.597101, -2.55318], [130.93481, -2.65561], [131.286015, -2.690196], [131.63722, -2.65561], [131.974928, -2.55318], [132.286162, -2.386842], [132.558961, -2.162989], [132.782841, -1.890223], [132.949199, -1.579027], [133.051641, -1.241359], [133.086232, -0.890196]]] }, "properties": { "name": "Sorong" } }, { "type": "Feature", "geometry": { "type": "Point", "coordinates": [131.286015, -0.890196] }, "properties": { "name": "Sorong Center" } }] }, { "type": "FeatureCollection", "features": [{ "type": "Feature", "geometry": { "type": "Polygon", "coordinates": [[[142.329695, -2.598852], [142.295073, -2.24769], [142.192537, -1.910022], [142.026028, -1.598826], [141.801944, -1.32606], [141.528897, -1.102207], [141.217381, -0.935869], [140.879366, -0.833439], [140.527841, -0.798852], [140.176317, -0.833439], [139.838302, -0.935869], [139.526785, -1.102207], [139.253739, -1.32606], [139.029655, -1.598826], [138.863146, -1.910022], [138.76061, -2.24769], [138.725988, -2.598852], [138.76061, -2.950015], [138.863146, -3.287683], [139.029655, -3.598879], [139.253739, -3.871645], [139.526785, -4.095498], [139.838302, -4.261835], [140.176317, -4.364266], [140.527841, -4.398852], [140.879366, -4.364266], [141.217381, -4.261835], [141.528897, -4.095498], [141.801944, -3.871645], [142.026028, -3.598879], [142.192537, -3.287683], [142.295073, -2.950015], [142.329695, -2.598852]]] }, "properties": { "name": "Jayapura" } }, { "type": "Feature", "geometry": { "type": "Point", "coordinates": [140.527841, -2.598852] }, "properties": { "name": "Jayapura Center" } }] }, { "type": "FeatureCollection", "features": [{ "type": "Feature", "geometry": { "type": "Polygon", "coordinates": [[[139.110014, -4.528791], [139.067416, -4.097642], [138.941261, -3.683061], [138.736395, -3.300981], [138.460693, -2.966085], [138.124748, -2.691244], [137.741471, -2.487018], [137.325592, -2.361256], [136.893092, -2.318791], [136.460592, -2.361256], [136.044713, -2.487018], [135.661437, -2.691244], [135.325492, -2.966085], [135.049789, -3.300981], [134.844924, -3.683061], [134.718768, -4.097642], [134.676171, -4.528791], [134.718768, -4.959941], [134.844924, -5.374522], [135.049789, -5.756602], [135.325492, -6.091497], [135.661437, -6.366339], [136.044713, -6.570565], [136.460592, -6.696327], [136.893092, -6.738791], [137.325592, -6.696327], [137.741471, -6.570565], [138.124748, -6.366339], [138.460693, -6.091497], [138.736395, -5.756602], [138.941261, -5.374522], [139.067416, -4.959941], [139.110014, -4.528791]]] }, "properties": { "name": "Timika" } }, { "type": "Feature", "geometry": { "type": "Point", "coordinates": [136.893092, -4.528791] }, "properties": { "name": "Timika Center" } }] }, { "type": "FeatureCollection", "features": [{ "type": "Feature", "geometry": { "type": "Polygon", "coordinates": [[[142.218675, -8.49273], [142.183511, -8.139617], [142.07937, -7.800073], [141.910253, -7.487148], [141.682661, -7.212867], [141.405339, -6.98777], [141.088944, -6.820509], [140.745636, -6.717509], [140.388608, -6.68273], [140.031579, -6.717509], [139.688271, -6.820509], [139.371877, -6.98777], [139.094555, -7.212867], [138.866962, -7.487148], [138.697846, -7.800073], [138.593705, -8.139617], [138.55854, -8.49273], [138.593705, -8.845844], [138.697846, -9.185387], [138.866962, -9.498313], [139.094555, -9.772594], [139.371877, -9.99769], [139.688271, -10.164952], [140.031579, -10.267952], [140.388608, -10.30273], [140.745636, -10.267952], [141.088944, -10.164952], [141.405339, -9.99769], [141.682661, -9.772594], [141.910253, -9.498313], [142.07937, -9.185387], [142.183511, -8.845844], [142.218675, -8.49273]]] }, "properties": { "name": "Merauke" } }, { "type": "Feature", "geometry": { "type": "Point", "coordinates": [140.388608, -8.49273] }, "properties": { "name": "Merauke Center" } }] }, { "type": "FeatureCollection", "features": [{ "type": "Feature", "geometry": { "type": "Polygon", "coordinates": [[[138.298499, -1.162971], [138.256026, -0.731821], [138.130238, -0.31724], [137.92597, 0.06484], [137.651072, 0.399735], [137.316107, 0.674577], [136.933948, 0.878803], [136.519282, 1.004565], [136.088044, 1.047029], [135.656805, 1.004565], [135.242139, 0.878803], [134.85998, 0.674577], [134.525016, 0.399735], [134.250117, 0.06484], [134.045849, -0.31724], [133.920062, -0.731821], [133.877588, -1.162971], [133.920062, -1.59412], [134.045849, -2.008701], [134.250117, -2.390781], [134.525016, -2.725677], [134.85998, -3.000518], [135.242139, -3.204744], [135.656805, -3.330506], [136.088044, -3.372971], [136.519282, -3.330506], [136.933948, -3.204744], [137.316107, -3.000518], [137.651072, -2.725677], [137.92597, -2.390781], [138.130238, -2.008701], [138.256026, -1.59412], [138.298499, -1.162971]]] }, "properties": { "name": "Biak" } }, { "type": "Feature", "geometry": { "type": "Point", "coordinates": [136.088044, -1.162971] }, "properties": { "name": "Biak Center" } }] }] }
        var map = L.map('mapid', {
            zoomControl: false
        }).setView([0, 115], 5);
        L.tileLayer('https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png', {
            attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
        }).addTo(map);

        L.control.zoom({
            position: 'topright'
        }).addTo(map);
        // Mendefinisikan dua layer TMS
        var pcnw, hima, radar, radargeo;
        var dpcnw = true;
        var dhima = true;
        var dradar = true;

        // Fungsi untuk mengganti layer
        function switchLayer(layer, id) {
            var checked = document.querySelector(`.${id}`).checked
            if (checked) {
                if (id == 'radar') {
                    radargeo = L.geoJSON(georadar, {
                        onEachFeature: (feature, layer) => {
                            // console.log(feature)
                            if (feature.geometry.type == 'Polygon') {
                                layer.setStyle({
                                    color: 'rgba(50,50,50,1)',
                                    fillColor: '#171717',
                                    fillOpacity: 0.2,
                                    weight: 0.5
                                })
                            }
                        },
                        pointToLayer: (geojsonpoint, latlng) => {
                            return L.circle(latlng, { radius: 100, color: 'red' })
                        }
                    }).addTo(map)
                }
                map.addLayer(layer);
            } else {
                if (id == 'radar') {
                    map.removeLayer(radargeo)
                }
                map.removeLayer(layer)
            }
        }

        function formatDate(dateString) {
            // Parse the date string
            var date = new Date(dateString);

            // Format each component
            var year = date.getUTCFullYear();
            var month = (date.getUTCMonth() + 1).toString().padStart(2, '0'); // Months are zero-indexed
            var day = date.getUTCDate().toString().padStart(2, '0');
            var hour = date.getUTCHours().toString().padStart(2, '0');
            var minute = date.getUTCMinutes().toString().padStart(2, '0');

            // Combine components into the desired format
            return `${year}${month}${day}${hour}${minute}`;
        }

        var convertDateToCustomFormat = (dateString) => {
            // Remove the '-' and ':' characters from the original date string
            const formattedDate = dateString.replace(/[-:]/g, '');

            // Remove the 'T' and 'Z' characters
            const customFormat = formattedDate.replace(/[TZ]/g, '');
            // Remove the last three characters (milliseconds)
            const formattedCustomFormat = customFormat.slice(0, -2);

            return formattedCustomFormat;
        }

        function fetchData() {
            fetch('https://satellite.bmkg.go.id/api22/modelrun') // Replace with your API URL
                .then(response => response.json())
                .then(data => {
                    // console.log(data)

                    hima = L.tileLayer(
                        `https://isdp.circlegeo.com/api/v1/api/satellite/tile/himawari/{z}/{x}/{y}.png?type=EH&baserun=${data.himawari9[0]}`, {
                        tms: true,
                        opacity: 0.8
                    })
                    document.getElementById('precipdate').innerHTML = data.himawari9[0]
                    dhima = false
                })
                .catch(error => {
                    console.error('Error fetching data:', error);
                    // document.getElementById('data-container').innerHTML = 'Error loading data.';
                });

            fetch('https://siam-staging.my.id/api23/modelrun') // Replace with your API URL
                .then(response => response.json())
                .then(data => {
                    // console.log(data)
                    pcnw = L.tileLayer(
                        `https://siam-staging.my.id/api23/mpl_req/pcnwcast/precip/0/${formatDate(data.pcnwcast[0])}/${formatDate(data.pcnwcast[0])}/{z}/{x}/{y}.png?overlays=contourf`, {
                        tms: true,
                        opacity: 0.8
                    })

                    document.getElementById('himadate').innerHTML = data.pcnwcast[0]
                    dpcnw = false
                })
                .catch(error => {
                    console.error('Error fetching data:', error);
                    // document.getElementById('data-container').innerHTML = 'Error loading data.';
                });

            fetch('https://rami.bmkg.go.id/api/radar_date') // Replace with your API URL
                .then(response => response.json())
                .then(data => {
                    var url = 'https://rami.bmkg.go.id/api/radar_get/dBZ/'
                    // console.log(data)
                    radar = L.tileLayer(
                        url + convertDateToCustomFormat(data.collection) + '/{z}/{x}/{y}.png', {
                        tms: true,
                        opacity: 0.8
                    })

                    document.getElementById('radardate').innerHTML = data.collection
                    dradar = false
                })
                .catch(error => {
                    console.error('Error fetching data:', error);
                    // document.getElementById('data-container').innerHTML = 'Error loading data.';
                });
        }
        // Call the function when the script loads
        fetchData();

        // colorbar

        const colorData = {
            contour: [
                [-100, 233, 63, 51],
                [-80, 234, 84, 86],
                [-75, 248, 212, 184],
                [-69, 246, 195, 140],
                [-62, 242, 159, 51],
                [-56, 235, 90, 51],
                [-48, 205, 155, 40],
                [-41, 197, 187, 36],
                [-34, 156, 211, 19],
                [-28, 133, 242, 0],
                [-21, 118, 231, 135],
                [-13, 95, 193, 146],
                [-7, 67, 175, 251],
                [0, 73, 135, 251],
                [8, 52, 98, 180],
                [14, 14, 72, 130],
                [21, 0, 0, 0],
                [60, 0, 0, 0],
            ]
        };

        var colorDatapcnx = {
            contour: [
                [
                    0.0,
                    255,
                    255,
                    255,
                    255
                ],
                [
                    1.0,
                    218,
                    236,
                    243,
                    255
                ],
                [
                    2.0,
                    180,
                    217,
                    230,
                    255
                ],
                [
                    3.0,
                    140,
                    197,
                    217,
                    255
                ],
                [
                    4.0,
                    102,
                    178,
                    204,
                    255
                ],
                [
                    5.0,
                    63,
                    159,
                    191,
                    255
                ],
                [
                    6.0,
                    26,
                    140,
                    179,
                    255
                ],
                [
                    7.0,
                    0,
                    121,
                    166,
                    255
                ],
                [
                    8.0,
                    0,
                    101,
                    153,
                    255
                ],
                [
                    9.0,
                    0,
                    82,
                    140,
                    255
                ],
                [
                    10.0,
                    0,
                    63,
                    127,
                    255
                ],
                [
                    11.0,
                    0,
                    44,
                    114,
                    255
                ],
                [
                    12.0,
                    0,
                    25,
                    102,
                    255
                ],
                [
                    13.0,
                    0,
                    5,
                    89,
                    255
                ],
                [
                    14.0,
                    0,
                    13,
                    76,
                    255
                ],
                [
                    15.0,
                    0,
                    32,
                    63,
                    255
                ],
                [
                    16.0,
                    0,
                    51,
                    50,
                    255
                ],
                [
                    17.0,
                    0,
                    70,
                    38,
                    255
                ],
                [
                    18.0,
                    0,
                    90,
                    24,
                    255
                ],
                [
                    19.0,
                    0,
                    109,
                    12,
                    255
                ],
                [
                    20.0,
                    0,
                    127,
                    0,
                    255
                ]
            ]
        }

        var radarColor = {
            contour: [
                // [0, 255, 255, 255],
                [5, 1, 209, 248],
                [10, 2, 78, 252],
                [15, 2, 128, 134],
                [20, 0, 230, 0],
                [25, 0, 178, 0],
                [30, 129, 204, 0],
                [35, 255, 225, 3],
                [40, 249, 162, 5],
                [45, 250, 58, 7],
                [50, 222, 0, 0],
                [55, 176, 1, 1],
                [60, 205, 0, 141],
                [65, 196, 0, 255],
            ],
            satuan: "dbz",
        }


        function generateLegend(colors, id) {
            const legend = document.getElementById(`${id}-legend`);
            const labels = document.getElementById(`${id}-legend-labels`);

            // Create gradient string
            let gradient = 'linear-gradient(to right';
            colors.forEach((stop, index) => {
                gradient += `, rgba(${stop[1]},${stop[2]},${stop[3]},1) ${index / (colors.length - 1) * 100}%`;
            });
            gradient += ')';
            legend.style.background = gradient;

            // Add labels
            colors.forEach(stop => {
                const span = document.createElement('span');
                span.textContent = stop[0];
                labels.appendChild(span);
            });
        }

        generateLegend(colorData.contour, 'hima');
        generateLegend(colorDatapcnx.contour, 'pcnx');
        generateLegend(radarColor.contour, 'radar');

        L.vectorGrid.protobuf('https://tiles.ibfmeteo.id/data/administration/{z}/{x}/{y}.pbf', {
            rendererFactory: L.canvas.tile,
            vectorTileLayerStyles: {
                province: {
                    weight: 1,
                    color: '#000'
                }
            },
            zIndex: 1000,
        }).addTo(map)

        map.on('click', (e) => {
            // console.log(e)
            var myHeaders = new Headers();
            myHeaders.append("Content-Type", "application/json");

            var raw = JSON.stringify({
                "model": "pcnwcast",
                "modelrun": document.getElementById('precipdate').innerHTML,
                "lon": e.latlng.lng,
                "lat": e.latlng.lat
            });

            var requestOptions = {
                method: 'POST',
                headers: myHeaders,
                body: raw,
                redirect: 'follow'
            };

            fetch("https://siam-staging.my.id/api23/point_req", requestOptions)
                .then(response => response.json())
                .then(result => {
                    L.popup()
                        .setLatLng(e.latlng)
                        .setContent(`
                            <div>Data Point</div>
                            <div style="font-weight:bold">${result.time[0].split('T').join(' ').replace(':00Z', ' UTC')}</div>
                            <div style="margin-top:10px;">${parseFloat(result.precip[0][0]).toFixed(2)} mm/hour</div>
                        `)
                        .openOn(map);
                })
                .catch(error => console.log('error', error));
        })

    </script>
</body>

</html>